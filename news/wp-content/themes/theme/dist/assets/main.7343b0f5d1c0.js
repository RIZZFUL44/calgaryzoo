function E(){import("data:text/javascript,")}const y=t=>{let e=1;const a=document.querySelector(".archive-filters"),r=[...document.querySelectorAll(".archive-filters select")],s=document.querySelector(".posts-archive__load-more"),h=document.querySelector(".archive-filters__submit"),c=document.querySelector(".archive-filters__clear"),d=document.querySelector(".posts-archive__posts"),f=document.querySelector("#pagination-count"),m=document.querySelector("#pagination-total"),v=t.getAttribute("data-ajax-action");function l(n=1){const o=new FormData(a);return o.append("action",v),o.append("paged",n),fetch(window.admin_ajax,{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(o).toString()}).then(i=>i.json())}function u(n){const o=Array.from(document.querySelectorAll(".image-card")).length,i=o<n;f.innerHTML=o,m.innerHTML=n,s.classList.toggle("posts-archive__load-more--hidden",!i),s.disabled=!i}function p(){const n=new URL(window.location.href.split("?")[0]),o=new URLSearchParams(n.search);r.forEach(i=>{i.value&&o.set(i.name,i.value)}),n.search=o.toString(),window.location.href!==n.href&&window.history.pushState({},document.title,n.href)}a.addEventListener("change",n=>{n.preventDefault(),h.classList.remove("archive-filters__submit--hidden"),c.classList.add("archive-filters__clear--hidden")}),a.addEventListener("submit",n=>{n.preventDefault(),p(),h.classList.add("archive-filters__submit--hidden"),c.classList.remove("archive-filters__clear--hidden"),e=1,l(e).then(o=>{d.innerHTML=o.html,u(o.found_posts),window.lazyLoadInstance.update()})}),c.addEventListener("click",n=>{n.preventDefault(),r.forEach(o=>{o.value=""}),p(),a.classList.remove("archive-filters--active"),c.classList.add("archive-filters__clear--hidden"),e=1,l(e).then(o=>{d.innerHTML=o.html,u(o.found_posts),window.lazyLoadInstance.update()})}),s.addEventListener("click",n=>{n.preventDefault(),s.innerHTML="Loading...",s.disabled=!0,e++,l(e).then(o=>{s.innerHTML="Load More",d.insertAdjacentHTML("beforeend",o.html),u(o.found_posts),window.lazyLoadInstance.update()})})};var w=()=>{window.addEventListener("popstate",()=>{document.querySelector(".posts-archive")&&location.reload()}),[...document.querySelectorAll(".posts-archive")].forEach(y)};const g=(t,e)=>{e.classList.remove("loading"),e.classList.add("loaded"),t.playVideo()},L=(t,e,a)=>{a.classList.toggle("playing",e===YT.PlayerState.PLAYING),e===YT.PlayerState.ENDED&&t.seekTo(0)},_=(t,e)=>{const a={origin:window.location.href,host:"https://www.youtube.com",playerVars:{autoplay:1,controls:0,showinfo:0,disablekb:1,mute:1,rel:0,fs:0,playsinline:0,iv_load_policy:3,cc_load_policy:0},videoId:t.getAttribute("data-video-id"),events:{onReady:r=>g(r.target,e),onStateChange:r=>L(r.target,r.data,e)}};new YT.Player(t,a)},S=t=>{const e=t.querySelector(".video");e&&!t.classList.contains("loading")&&!t.classList.contains("loaded")&&(t.classList.add("loading"),_(e,t))},T=t=>{const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",e.id="youtubeIframeAPI",e.defer="defer";const a=document.getElementsByTagName("script")[0];a.parentNode.insertBefore(e,a),window.onYouTubeIframeAPIReady=t};var A=()=>{const t=Array.from(document.querySelectorAll(".video-hero"));function e(){t.forEach(S)}t.length>0&&T(e)};window.addEventListener("load",()=>{w(),A()});export{E as __vite_legacy_guard};
